{"openapi":"3.0.1","info":{"title":"DevOps权限管理系统 API","description":"基于Spring Boot 3.5.5的DevOps权限管理系统API文档，提供用户认证、权限管理、角色管理、团队管理等功能","contact":{"name":"DevOps团队","url":"https://github.com/devops2025","email":"devops@example.com"},"license":{"name":"MIT License","url":"https://opensource.org/licenses/MIT"},"version":"1.0.0"},"servers":[{"url":"http://10.129.2.112:8080","description":"Generated server url"}],"security":[{"Bearer Authentication":[]}],"tags":[{"name":"认证管理","description":"用户认证相关接口，包括注册、登录、登出功能"},{"name":"权限管理","description":"权限管理相关接口，包括权限的增删改查、模块管理等功能"},{"name":"角色管理","description":"角色管理相关接口，包括角色的增删改查、权限分配等功能"},{"name":"系统管理","description":"系统管理相关接口，包括系统统计、权限检查、清理等功能"},{"name":"管理员用户管理","description":"管理员用户管理相关接口，包括用户的增删改查、状态管理等功能"}],"paths":{"/api/v1/users/profile":{"get":{"tags":["user-controller"],"operationId":"getUserProfile","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}},"put":{"tags":["user-controller"],"operationId":"updateUserProfile","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseUser"}}}}}}},"/api/v1/users/password":{"put":{"tags":["user-controller"],"operationId":"changePassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/v1/admin/users/{id}":{"get":{"tags":["管理员用户管理"],"operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseUser"}}}}}},"put":{"tags":["管理员用户管理"],"operationId":"updateUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseUser"}}}}}},"delete":{"tags":["管理员用户管理"],"operationId":"deleteUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/v1/admin/users/{id}/status":{"put":{"tags":["管理员用户管理"],"operationId":"updateUserStatus","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/v1/admin/users/{id}/password/reset":{"put":{"tags":["管理员用户管理"],"operationId":"resetUserPassword","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/roles/{id}":{"get":{"tags":["角色管理"],"operationId":"getRoleById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseRole"}}}}}},"put":{"tags":["角色管理"],"operationId":"updateRole","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Role"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseRole"}}}}}},"delete":{"tags":["角色管理"],"operationId":"deleteRole","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/permissions/{id}":{"get":{"tags":["权限管理"],"operationId":"getPermission","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePermission"}}}}}},"put":{"tags":["权限管理"],"operationId":"updatePermission","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePermissionRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePermission"}}}}}},"delete":{"tags":["权限管理"],"operationId":"deletePermission","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/v1/auth/register":{"post":{"tags":["认证管理"],"summary":"用户注册","description":"新用户注册接口，注册成功后自动登录并返回JWT token","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseAuthResponse"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["认证管理"],"summary":"用户登出","description":"用户登出接口，由于JWT是无状态的，客户端删除token即可实现登出","operationId":"logout","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["认证管理"],"summary":"用户登录","description":"用户登录接口，支持用户名/邮箱登录，登录成功返回JWT token","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseAuthResponse"}}}}}}},"/api/v1/admin/users":{"get":{"tags":["管理员用户管理"],"operationId":"getUsers","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}},{"name":"keyword","in":"query","required":false,"schema":{"type":"string"}},{"name":"status","in":"query","required":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListUser"}}}}}},"post":{"tags":["管理员用户管理"],"operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseUser"}}}}}}},"/api/system/roles/check":{"post":{"tags":["系统管理"],"operationId":"checkRole","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleCheckRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseBoolean"}}}}}}},"/api/system/permissions/check":{"post":{"tags":["系统管理"],"operationId":"checkPermission","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionCheckRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseBoolean"}}}}}}},"/api/system/cleanup":{"post":{"tags":["系统管理"],"operationId":"cleanup","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/roles":{"get":{"tags":["角色管理"],"operationId":"getAllRoles","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListRole"}}}}}},"post":{"tags":["角色管理"],"operationId":"createRole","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Role"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseRole"}}}}}}},"/api/roles/{roleId}/permissions/{permissionId}":{"post":{"tags":["角色管理"],"operationId":"addPermissionToRole","parameters":[{"name":"roleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"permissionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}},"delete":{"tags":["角色管理"],"operationId":"removePermissionFromRole","parameters":[{"name":"roleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"permissionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/roles/{id}/permissions":{"get":{"tags":["角色管理"],"operationId":"getRolePermissions","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListPermission"}}}}}},"post":{"tags":["角色管理"],"operationId":"assignPermissions","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"integer","format":"int64"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/permissions":{"get":{"tags":["权限管理"],"operationId":"getPermissions","parameters":[{"name":"module","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListPermission"}}}}}},"post":{"tags":["权限管理"],"operationId":"createPermission","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePermissionRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePermission"}}}}}}},"/api/system/user/{userId}/roles":{"get":{"tags":["系统管理"],"operationId":"getUserRoles","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListString"}}}}}}},"/api/system/user/{userId}/permissions":{"get":{"tags":["系统管理"],"operationId":"getUserPermissions","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListString"}}}}}}},"/api/system/stats":{"get":{"tags":["系统管理"],"operationId":"getSystemStats","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseSystemStatsResponse"}}}}}}},"/api/ping":{"get":{"tags":["hello-controller"],"operationId":"ping","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/permissions/modules":{"get":{"tags":["权限管理"],"operationId":"getPermissionModules","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListString"}}}}}}},"/api/apps":{"get":{"tags":["app-controller"],"operationId":"list","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListAppVO"}}}}}}},"/api/apps/category/{category}":{"get":{"tags":["app-controller"],"operationId":"listByCategory","parameters":[{"name":"category","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListAppVO"}}}}}}},"/api/apps-raw":{"get":{"tags":["app-raw-controller"],"operationId":"list_1","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}}}}}}}},"/api/apps-raw/boom":{"get":{"tags":["app-raw-controller"],"operationId":"boom","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"UpdateProfileRequest":{"type":"object","properties":{"nickname":{"maxLength":50,"minLength":0,"type":"string"},"bio":{"maxLength":200,"minLength":0,"type":"string"},"avatarUrl":{"maxLength":255,"minLength":0,"type":"string"}}},"ApiResponseUser":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/User"},"timestamp":{"type":"integer","format":"int64"}}},"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"passwordHash":{"type":"string"},"nickname":{"type":"string"},"avatarUrl":{"type":"string"},"bio":{"type":"string"},"status":{"type":"integer","format":"int32"},"emailVerified":{"type":"integer","format":"int32"},"phoneVerified":{"type":"integer","format":"int32"},"loginAttempts":{"type":"integer","format":"int32"},"lockedUntil":{"type":"string","format":"date-time"},"lastLoginAt":{"type":"string","format":"date-time"},"lastLoginIp":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"deletedAt":{"type":"string","format":"date-time"}}},"ChangePasswordRequest":{"required":["confirmPassword","currentPassword","newPassword"],"type":"object","properties":{"currentPassword":{"type":"string"},"newPassword":{"maxLength":20,"minLength":6,"type":"string"},"confirmPassword":{"type":"string"}}},"ApiResponseString":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"string"},"timestamp":{"type":"integer","format":"int64"}}},"Role":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"code":{"type":"string"},"description":{"type":"string"},"status":{"type":"integer","format":"int32"},"isSystem":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"ApiResponseRole":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/Role"},"timestamp":{"type":"integer","format":"int64"}}},"UpdatePermissionRequest":{"type":"object","properties":{"name":{"type":"string"},"code":{"type":"string"},"description":{"type":"string"},"module":{"type":"string"},"resource":{"type":"string"},"action":{"type":"string"},"status":{"type":"integer","format":"int32"}}},"ApiResponsePermission":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/Permission"},"timestamp":{"type":"integer","format":"int64"}}},"Permission":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"code":{"type":"string"},"description":{"type":"string"},"module":{"type":"string"},"resource":{"type":"string"},"action":{"type":"string"},"status":{"type":"integer","format":"int32"},"isSystem":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"RegisterRequest":{"required":["email","password","username"],"type":"object","properties":{"username":{"maxLength":20,"minLength":3,"type":"string"},"email":{"type":"string"},"password":{"maxLength":20,"minLength":6,"type":"string"},"nickname":{"maxLength":50,"minLength":0,"type":"string"},"phone":{"type":"string"}},"description":"注册请求参数"},"ApiResponseAuthResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/AuthResponse"},"timestamp":{"type":"integer","format":"int64"}}},"AuthResponse":{"type":"object","properties":{"token":{"type":"string"},"user":{"$ref":"#/components/schemas/User"}}},"ApiResponseVoid":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"object"},"timestamp":{"type":"integer","format":"int64"}}},"LoginRequest":{"required":["password","username"],"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}},"description":"登录请求参数"},"RoleCheckRequest":{"required":["roleCode","userId"],"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"roleCode":{"type":"string"}}},"ApiResponseBoolean":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"boolean"},"timestamp":{"type":"integer","format":"int64"}}},"PermissionCheckRequest":{"required":["permissionCode","userId"],"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"permissionCode":{"type":"string"}}},"CreatePermissionRequest":{"type":"object","properties":{"name":{"type":"string"},"code":{"type":"string"},"description":{"type":"string"},"module":{"type":"string"},"resource":{"type":"string"},"action":{"type":"string"},"status":{"type":"integer","format":"int32"}}},"ApiResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"object"},"timestamp":{"type":"integer","format":"int64"}}},"ApiResponseListUser":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/User"}},"timestamp":{"type":"integer","format":"int64"}}},"ApiResponseListString":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"array","items":{"type":"string"}},"timestamp":{"type":"integer","format":"int64"}}},"ApiResponseSystemStatsResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/SystemStatsResponse"},"timestamp":{"type":"integer","format":"int64"}}},"SystemStatsResponse":{"type":"object","properties":{"totalUsers":{"type":"integer","format":"int64"},"totalRoles":{"type":"integer","format":"int64"},"totalPermissions":{"type":"integer","format":"int64"},"activeUsers":{"type":"integer","format":"int64"},"systemRoles":{"type":"integer","format":"int64"},"systemPermissions":{"type":"integer","format":"int64"}}},"ApiResponseListRole":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Role"}},"timestamp":{"type":"integer","format":"int64"}}},"ApiResponseListPermission":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Permission"}},"timestamp":{"type":"integer","format":"int64"}}},"ApiResponseListAppVO":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/AppVO"}},"timestamp":{"type":"integer","format":"int64"}}},"AppVO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"},"fullDescription":{"type":"string"},"avatar":{"type":"string"},"category":{"type":"string"},"price":{"type":"number"},"rating":{"type":"number","format":"double"},"downloads":{"type":"integer","format":"int32"},"reviews":{"type":"integer","format":"int32"},"author":{"type":"string"},"publishedAt":{"type":"string","format":"date"},"tags":{"type":"array","items":{"type":"string"}},"features":{"type":"array","items":{"type":"string"}},"scenarios":{"type":"array","items":{"type":"string"}}}}},"securitySchemes":{"Bearer Authentication":{"type":"http","description":"请输入JWT token，格式：Bearer {token}","scheme":"bearer","bearerFormat":"JWT"}}}}